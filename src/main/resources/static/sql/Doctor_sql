/*
작성자 : 서수한
작성일자 : 250825
DB NAME : HPMS
내용 : 의사 관리 테이블
*/
DROP DATABASE IF EXISTS HPMS;
CREATE DATABASE HPMS;
USE HPMS;
CREATE TABLE TBL_DOCTOR_M (
  ID              INT(4) NOT NULL AUTO_INCREMENT COMMENT '의사 기본 고유 ID',
  DEPT            VARCHAR(4)  NOT NULL COMMENT '부서',
  MED_DEP         VARCHAR(50) NULL COMMENT '진료과',
  RANK            VARCHAR(4)  NOT NULL COMMENT '직급',
  POS             VARCHAR(4)  NULL COMMENT '직책',
  FIRST_NAME          VARCHAR(50) NOT NULL COMMENT '이름',
  LAST_NAME          VARCHAR(50) NOT NULL COMMENT '성',
  MIDDLE_NAME          VARCHAR(50) NULL COMMENT '중간이름',
  GENDER          VARCHAR(1)  NOT NULL COMMENT '성별(F/M)',
  DATE_OF_BIRTH   DATE      NOT NULL COMMENT '생년월일',
  TEL             VARCHAR(20) NOT NULL COMMENT '전화번호',
  HIREDATE        DATE      NOT NULL COMMENT '입사일',
  STS             VARCHAR(3)  NOT NULL COMMENT '재직상태',
  WT              VARCHAR(4)  NOT NULL COMMENT '근무형태',
  PRIMARY KEY (ID)
);
CREATE TABLE TBL_DOCTOR_DTL (
  ID   INT(4) NOT NULL AUTO_INCREMENT COMMENT '의사 상세 정보 고유 ID',
  DOCTOR_ID   INT(4) NOT NULL COMMENT '의사 기본 고유 ID 참조',
  IMG         VARCHAR(250) NOT NULL COMMENT '사진 URL',
  USR_ID      VARCHAR(20)  NOT NULL COMMENT '로그인 ID',
  USR_PWD     VARCHAR(20)  NOT NULL COMMENT '로그인 비밀번호',
  OFF_TEL     VARCHAR(20)  NOT NULL COMMENT '사무실 연락처',
  EMGC_CNTC   VARCHAR(20)  NULL COMMENT '비상연락처',
  EMGC_F_NAME VARCHAR(50)  NULL COMMENT '비상연락처 이름',
  EMGC_L_NAME VARCHAR(50)  NULL COMMENT '비상연락처 성',
  EMGC_M_NAME VARCHAR(50)	NULL COMMENT '비상연락처 중간이름',
  EMGC_REL    VARCHAR(10)  NULL COMMENT '비상연락처 관계',
  EMGC_NOTE   VARCHAR(50)  NULL COMMENT '비상연락처 비고',
  EMAIL       VARCHAR(250) NULL COMMENT '이메일',
  PCD         VARCHAR(6)   NULL COMMENT '우편번호',
  DEF_ADD     VARCHAR(250) NULL COMMENT '주소 기본',
  DET_ADD     VARCHAR(250) NULL COMMENT '주소 상세',
  RN_NO       VARCHAR(10)  NOT NULL COMMENT '면허번호(Unique)',
  EDBC        VARCHAR(100) NULL COMMENT '학력',
  FL          VARCHAR(250) NULL COMMENT '외국어',
  LI          VARCHAR(250) NULL COMMENT '자격증',
  MJR         VARCHAR(50)  NOT NULL COMMENT '전공',
  WORK_DOE    VARCHAR(250) NULL COMMENT '근무경력',
  AW          VARCHAR(250) NULL COMMENT '수상내역',
  SCTA        VARCHAR(250) NULL COMMENT '학회활동',
  CRTOS       VARCHAR(250) NULL COMMENT '학회 인증',
  MS          VARCHAR(10)  NULL COMMENT '병역',
  NATN        VARCHAR(50)  NULL COMMENT '국적',
  DSS         VARCHAR(1)   NULL COMMENT '장애여부(Y/N)',
  CREATE_DATE DATETIME         NOT NULL COMMENT '최초작성일',
  WRITER      VARCHAR(250) NOT NULL COMMENT '작성자',
  MODIFY_DATE DATETIME         NULL COMMENT '수정일',
  MODIFIER    VARCHAR(250) NULL COMMENT '수정자',
  NOTE        VARCHAR(255) NULL COMMENT '비고',
  PRIMARY KEY (ID),
  CONSTRAINT fk_doctor_detail FOREIGN KEY (DOCTOR_ID) REFERENCES TBL_DOCTOR_M(ID)
      ON UPDATE CASCADE ON DELETE CASCADE
);
CREATE TABLE TBL_DOCTOR_H (
  ID   INT(4) NOT NULL AUTO_INCREMENT COMMENT '이력 고유 ID',
  DOCTOR_ID    INT(4) NOT NULL COMMENT '의사 기본 고유 ID 참조',
  DEPT         VARCHAR(4)   NULL COMMENT '부서',
  RANK         VARCHAR(4)   NULL COMMENT '직급',
  FIRST_NAME       VARCHAR(50)  NULL COMMENT '이름',
  LAST_NAME       VARCHAR(50)  NULL COMMENT '성',
  MIDDLE_NAME       VARCHAR(50)  NULL COMMENT '중간이름',
  GENDER       VARCHAR(1)   NULL COMMENT '성별',
  DATE_OF_BIRTH DATE      NULL COMMENT '생년월일',
  TEL          VARCHAR(20)  NULL COMMENT '전화번호',
  HIREDATE     DATE       NULL COMMENT '입사일',
  STS          VARCHAR(3)   NULL COMMENT '상태',
  WT           VARCHAR(4)   NULL COMMENT '근무형태',
  EMGC_CNTC   VARCHAR(20)  NULL COMMENT '비상연락처',
  EMGC_F_NAME VARCHAR(50)  NULL COMMENT '비상연락처 이름',
  EMGC_L_NAME VARCHAR(50)  NULL COMMENT '비상연락처 성',
  EMGC_M_NAME VARCHAR(50)	NULL COMMENT '비상연락처 중간이름',
  EMGC_REL    VARCHAR(10)  NULL COMMENT '비상연락처 관계',
     EMGC_NOTE   VARCHAR(50)  NULL COMMENT '비상연락처 비고',
  IMG          VARCHAR(250) NULL COMMENT '사진',
  USR_ID       VARCHAR(20)  NULL COMMENT '유저ID',
  RN_NO        VARCHAR(10)  NULL COMMENT '면허번호',
  EDBC         VARCHAR(100) NULL COMMENT '학력',
  FL           VARCHAR(250) NULL COMMENT '외국어',
  LI           VARCHAR(250) NULL COMMENT '자격증',
  MJR          VARCHAR(50)  NULL COMMENT '전공',
  MED_DEP      VARCHAR(50)  NULL COMMENT '진료과',
  WORK_DOE     VARCHAR(250) NULL COMMENT '근무경력',
  AW           VARCHAR(250) NULL COMMENT '수상경력',
  SCTA         VARCHAR(250) NULL COMMENT '학회활동',
  CRTOS        VARCHAR(250) NULL COMMENT '학회인증',
  MS           VARCHAR(10)  NULL COMMENT '병역',
  NATN         VARCHAR(50)  NULL COMMENT '국적',
  DSS          VARCHAR(1)   NULL COMMENT '장애여부',
  CREATE_DATE DATETIME         NOT NULL COMMENT '최초작성일',
  WRITER      VARCHAR(250) NOT NULL COMMENT '작성자',
  MODIFY_DATE  DATETIME         NULL COMMENT '수정일',
  MODIFIER     VARCHAR(250) NULL COMMENT '수정자',
  NOTE         VARCHAR(255) NULL COMMENT '비고',
  PRIMARY KEY (ID),
  CONSTRAINT fk_doctor_history FOREIGN KEY (DOCTOR_ID) REFERENCES TBL_DOCTOR_M(ID)
      ON UPDATE CASCADE ON DELETE CASCADE
);

