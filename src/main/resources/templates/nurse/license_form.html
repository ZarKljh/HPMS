<html layout:decorate="~{nurse/nurse_layout}">
<div layout:fragment="content" class="container my-3">
  <h2 class="border-bottom py-2">자격증 추가 - <span th:text="${nurseMain.firstName} + ' ' + ${nurseMain.lastName}"></span></h2>

  <!-- 자격증 등록 폼 -->
  <form class="card my-3 p-3" th:action="@{|/nurse/license/${nurseMain.id}|}" th:object="${license}" method="post">
    <div class="input-list">
      <label>자격증 이름:</label>
      <input type="text" th:field="*{li}" placeholder="예: 간호사 면허" required />
    </div>
    <div class="input-list">
      <label>자격증 번호:</label>
      <input type="text" th:field="*{licenseNo}" placeholder="예: RN123456" required />
    </div>
    <div class="input-list">
      <label>발급일:</label>
      <input type="text" th:field="*{issueDate}" placeholder="YYYYMMDD" />
    </div>
    <div class="input-list">
      <label>만료일:</label>
      <input type="text" th:field="*{expiryDate}" placeholder="YYYYMMDD" />
    </div>
    <div class="input-list">
      <label>비고:</label>
      <input type="text" th:field="*{note}" placeholder="비고" />
    </div>

    <div class="next_btn_box">
      <button class="next_btn btn btn-primary" type="submit">등록</button>
    </div>
  </form>

  <!-- 등록된 자격증 리스트 -->
  <div class="card my-3 p-3">
    <h3>등록된 자격증</h3>
    <table class="table table-striped">
      <thead>
      <tr>
        <th>자격증 이름</th>
        <th>번호</th>
        <th>발급일</th>
        <th>만료일</th>
        <th>비고</th>
        <th>삭제</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="lic : ${licenseList}">
        <td th:text="${lic.li}"></td>
        <td th:text="${lic.licenseNo}"></td>
        <td th:text="${lic.issueDate}"></td>
        <td th:text="${lic.expiryDate}"></td>
        <td th:text="${lic.note}"></td>
        <td>
          <a th:href="@{|/nurse/license/delete/${lic.id}/${nurseMain.id}|}" class="btn btn-danger btn-sm">삭제</a>
        </td>
      </tr>
      <tr th:if="${#lists.isEmpty(licenseList)}">
        <td colspan="6" class="text-center">등록된 자격증이 없습니다.</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
</html>
