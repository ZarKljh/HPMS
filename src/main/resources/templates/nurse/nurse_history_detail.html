<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" layout:decorate="~{nurse/nurse_layout}">
<head>
  <title>간호사 히스토리 상세</title>
</head>
<body>
<div layout:fragment="content" class="container">
  <div class="row">
    <div class="col-12">
      <h3 class="border-bottom mt-2">간호사 수정 히스토리</h3>

      <!-- 디버그 정보 -->
      <div class="alert alert-warning" th:unless="${nurseHistory}">
        히스토리 정보가 없습니다.
      </div>

      <!-- Main 정보 -->
      <div class="card my-3 p-3" th:if="${nurseHistory}">
        <h4 class="border-bottom py-2">간호사 히스토리 상세페이지</h4>

        <!-- 사진 영역 -->
        <div class="row mb-4 image" th:if="${nurseHistory.picture}">
          <div class="col-12">
            <div class="text-center">
              <img th:src="${nurseHistory.picture}"
                   alt="간호사 사진"
                   class="img-thumbnail"
                   style="max-width: 300px; max-height: 400px; object-fit: cover;">
            </div>
          </div>
        </div>

        <!-- 기본 정보만 먼저 표시 -->
        <div class="row mb-3">
          <div class="col-md-6">
            <strong>히스토리 ID:</strong>
            <span th:text="${nurseHistory.id}">-</span>
          </div>
          <div class="col-md-6">
            <strong>작성일시:</strong>
            <span th:text="${nurseHistory.createDate}">-</span>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <strong>부서:</strong>
            <span th:text="${nurseHistory.dept}">-</span>
          </div>
          <div class="col-md-6">
            <strong>직급:</strong>
            <span th:text="${nurseHistory.rank}">-</span>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-12">
            <strong>전체 성명:</strong>
            <span th:text="${nurseHistory.firstName != null ? nurseHistory.firstName : ''} + ' ' + ${nurseHistory.middleName != null ? nurseHistory.middleName + ' ' : ''} + ${nurseHistory.lastName != null ? nurseHistory.lastName : ''}"></span>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <strong>성:</strong>
            <span th:text="${nurseHistory.firstName}">-</span>
          </div>
          <div class="col-md-6">
            <strong>이름:</strong>
            <span th:text="${nurseHistory.lastName}">-</span>
          </div>
        </div>

        <div class="row mb-3" th:if="${nurseHistory.middleName}">
          <div class="col-md-6">
            <strong>미들네임:</strong>
            <span th:text="${nurseHistory.middleName}">-</span>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <strong>성별:</strong>
            <span th:text="${nurseHistory.gender}">-</span>
          </div>
          <div class="col-md-6">
            <strong>생년월일:</strong>
            <span th:text="${nurseHistory.dateOfBirth}">-</span>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <strong>입사일:</strong>
            <span th:text="${nurseHistory.hireDate}">-</span>
          </div>
          <div class="col-md-6">
            <strong>상태:</strong>
            <span th:text="${nurseHistory.status}">-</span>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <strong>근무형태:</strong>
            <span th:text="${nurseHistory.workType}">-</span>
          </div>
          <div class="col-md-6">
            <strong>작성자:</strong>
            <span th:text="${nurseHistory.writer}">-</span>
          </div>
        </div>

        <!-- 연락처 정보 -->
        <h5 class="mt-4 mb-3 border-bottom">연락처 정보</h5>
        <div class="row mb-3">
          <div class="col-md-6">
            <strong>전화번호:</strong>
            <span th:text="${nurseHistory.tel}">-</span>
          </div>
          <div class="col-md-6">
            <strong>이메일:</strong>
            <span th:text="${nurseHistory.email}">-</span>
          </div>
        </div>

        <!-- 비상연락처 정보 -->
        <h5 class="mt-4 mb-3 border-bottom">비상연락처</h5>
        <div class="row mb-3">
          <div class="col-md-6">
            <strong>비상연락처:</strong>
            <span th:text="${nurseHistory.emergencyContact}">-</span>
          </div>
          <div class="col-md-6">
            <strong>관계:</strong>
            <span th:text="${nurseHistory.emergencyRelation}">-</span>
          </div>
        </div>

        <!-- 전문 정보 -->
        <h5 class="mt-4 mb-3 border-bottom">전문 정보</h5>
        <div class="row mb-3">
          <div class="col-md-6">
            <strong>간호사 자격증번호:</strong>
            <span th:text="${nurseHistory.nurseLicenseNo}">-</span>
          </div>
          <div class="col-md-6">
            <strong>최종학력:</strong>
            <span th:text="${nurseHistory.educationalBackground}">-</span>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <strong>졸업날짜:</strong>
            <span th:text="${nurseHistory.gradDate}">-</span>
          </div>
          <div class="col-md-6">
            <strong>외국어:</strong>
            <span th:text="${nurseHistory.foreignLanguage}">-</span>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <strong>병역:</strong>
            <span th:text="${nurseHistory.militaryService}">-</span>
          </div>
          <div class="col-md-6">
            <strong>국적:</strong>
            <span th:text="${nurseHistory.nationality}">-</span>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <strong>장애여부:</strong>
            <span th:text="${nurseHistory.disabilityStatus}">-</span>
          </div>
          <div class="col-md-6">
            <strong>경력:</strong>
            <span th:text="${nurseHistory.career}">-</span>
          </div>
        </div>

        <!-- 비고 -->
        <div class="row mb-3" th:if="${nurseHistory.note}">
          <div class="col-12">
            <strong>비고:</strong>
            <p th:text="${nurseHistory.note}" class="mt-2 p-2 bg-light border rounded">-</p>
          </div>
        </div>

        <!-- 수정자 정보 -->
        <div class="row mb-3 mt-4 pt-4 border-top">
          <div class="col-md-6">
            <strong>수정자:</strong>
            <span th:text="${nurseHistory.modifier}">-</span>
          </div>
          <div class="col-md-6">
            <strong>수정일시:</strong>
            <span th:text="${nurseHistory.modifyDate}">-</span>
          </div>
        </div>
      </div>

      <!-- 버튼 영역 -->
      <div class="d-flex justify-content-end gap-2 my-3">
        <a th:href="@{/nurse/history}" class="btn btn-secondary">히스토리 목록</a>
        <a th:if="${nurseMain}" th:href="@{|/nurse/info/${nurseMain.id}|}" class="btn btn-primary">간호사 정보</a>
        <a th:unless="${nurseMain}" th:href="@{/nurse}" class="btn btn-primary">간호사 목록</a>
      </div>
    </div>
  </div>
</div>
</body>
</html>