<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" layout:decorate="~{nurse/nurse_layout}">
<body>
<div layout:fragment="content" class="container">
  <form class="info_form">
    <h3 class="border-bottom mt-2" th:if="${nurseHistory}"
        th:text="|${nurseHistory.firstName} ${#strings.defaultString(nurseHistory.middleName,'')} ${#strings.defaultString(nurseHistory.lastName,'')} - ìˆ˜ì • íˆìŠ¤í† ë¦¬|">
      ê°„í˜¸ì‚¬ ìˆ˜ì • íˆìŠ¤í† ë¦¬
    </h3>

    <!-- Main ì •ë³´ -->
    <div class="main card my-3 p-3" th:if="${nurseHistory}">
      <h4 class="border-bottom py-2">ê°„í˜¸ì‚¬ íˆìŠ¤í† ë¦¬ ìƒì„¸í˜ì´ì§€ ì…ë‹ˆë‹¤.</h4>

      <!-- ì‚¬ì§„ -->
      <div class="image">
        <img th:if="${nurseHistory.picture != null and !#strings.isEmpty(nurseHistory.picture)}"
             th:src="${nurseHistory.picture}" alt="nurse Image" />
        <span th:unless="${nurseHistory.picture != null and !#strings.isEmpty(nurseHistory.picture)}">ì‚¬ì§„ ì—†ìŒ</span>
      </div>

      <!-- ì‘ì„±ì ì •ë³´ -->
      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ê¸°ë¡ì¼ì‹œ:</label>
        <span th:text="${nurseHistory.createDate != null} ? ${#temporals.format(nurseHistory.createDate,'yyyy-MM-dd HH:mm')} : 'ì •ë³´ ì—†ìŒ'" style="width:220px;"></span>
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ì‘ì„±ì:</label>
        <span th:text="${nurseHistory.writer ?: 'ë“±ë¡ì ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
      </div>

      <!-- ê¸°ë³¸ ì •ë³´ -->
      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ë¶€ì„œ:</label>
        <span th:text="${nurseHistory.dept ?: 'ë¶€ì„œ ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ì§ê¸‰:</label>
        <span th:text="${nurseHistory.rank ?: 'ì§ê¸‰ ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
      </div>

      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ì„±ëª…:</label>
        <span th:text="|${nurseHistory.firstName} ${#strings.defaultString(nurseHistory.middleName,'')} ${#strings.defaultString(nurseHistory.lastName,'')}|" style="width:220px;"></span>
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ì„±ë³„:</label>
        <span th:text="${nurseHistory.gender ?: 'ì„±ë³„ ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
      </div>

      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ìƒë…„ì›”ì¼:</label>
        <span th:text="${nurseHistory.dateOfBirth ?: 'ìƒë…„ì›”ì¼ ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ì…ì‚¬ì¼:</label>
        <span th:text="${nurseHistory.hireDate ?: 'ì…ì‚¬ì¼ ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
      </div>

      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ìƒíƒœ:</label>
        <span th:text="${nurseHistory.sts ?: 'ìƒíƒœ ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ê·¼ë¬´í˜•íƒœ:</label>
        <span th:text="${nurseHistory.wt ?: 'ê·¼ë¬´í˜•íƒœ ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
      </div>

      <!-- ì—°ë½ì²˜ ì •ë³´ -->
      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ì „í™”ë²ˆí˜¸:</label>
        <span th:text="${nurseHistory.tel ?: 'ì „í™”ë²ˆí˜¸ ì—†ìŒ'}" style="width:220px;"></span>
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ì´ë©”ì¼:</label>
        <span th:text="${nurseHistory.email ?: 'ì´ë©”ì¼ ì—†ìŒ'}" style="width:220px;"></span>
      </div>

      <!-- ë¹„ìƒì—°ë½ì²˜ ì •ë³´ -->
      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ë¹„ìƒì—°ë½ì²˜:</label>
        <span th:text="${nurseHistory.emergencyContact ?: 'ë¹„ìƒì—°ë½ì²˜ ì—†ìŒ'}" style="width:220px;"></span>
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ê´€ê³„:</label>
        <span th:text="${nurseHistory.emergencyRelation ?: 'ê´€ê³„ ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
      </div>

      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ì„±í•¨:</label>
        <span th:text="|${#strings.defaultString(nurseHistory.emergencyFirstName,'')} ${#strings.defaultString(nurseHistory.emergencyMiddleName,'')} ${#strings.defaultString(nurseHistory.emergencyLastName,'')}|" style="width:70%;"></span>
      </div>

      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ë¹„ìƒì—°ë½ ë¹„ê³ :</label>
        <span th:text="${nurseHistory.emergencyNote ?: 'ë¹„ê³  ì—†ìŒ'}" style="width:70%;"></span>
      </div>

      <!-- ì£¼ì†Œ ì •ë³´ -->
      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ìš°í¸ë²ˆí˜¸:</label>
        <span th:text="${nurseHistory.postalCode ?: 'ìš°í¸ë²ˆí˜¸ ì—†ìŒ'}" style="width:70%;"></span>
      </div>

      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ê¸°ë³¸ì£¼ì†Œ:</label>
        <span th:text="${nurseHistory.defaultAddress ?: 'ê¸°ë³¸ì£¼ì†Œ ì—†ìŒ'}" style="width:70%;"></span>
      </div>

      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ìƒì„¸ì£¼ì†Œ:</label>
        <span th:text="${nurseHistory.detailAddress ?: 'ìƒì„¸ì£¼ì†Œ ì—†ìŒ'}" style="width:70%;"></span>
      </div>

      <!-- ì „ë¬¸ ì •ë³´ -->
      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ê°„í˜¸ì‚¬<br>ìê²©ì¦ë²ˆí˜¸:</label>
        <span th:text="${nurseHistory.nurseLicenseNo ?: 'ìê²©ì¦ë²ˆí˜¸ ì—†ìŒ'}" style="width:220px;"></span>
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ìµœì¢…í•™ë ¥:</label>
        <span th:text="${nurseHistory.educationalBackground ?: 'ìµœì¢…í•™ë ¥ ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
      </div>

      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ì¡¸ì—…ë‚ ì§œ:</label>
        <span th:text="${nurseHistory.gradDate ?: 'ì¡¸ì—…ë‚ ì§œ ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ì™¸êµ­ì–´:</label>
        <span th:text="${nurseHistory.foreignLanguage ?: 'ì™¸êµ­ì–´ ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
      </div>

      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ë³‘ì—­:</label>
        <span th:text="${nurseHistory.militaryService ?: 'ë³‘ì—­ ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">êµ­ì :</label>
        <span th:text="${nurseHistory.nationality ?: 'êµ­ì  ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
      </div>

      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ì¥ì• ì—¬ë¶€:</label>
        <span th:text="${nurseHistory.disabilityStatus ?: 'ì¥ì• ì—¬ë¶€ ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ê²½ë ¥:</label>
        <span th:text="${nurseHistory.career ?: 'ê²½ë ¥ ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
      </div>

      <!-- ìˆ˜ì •ì ì •ë³´ -->
      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ìˆ˜ì •ì:</label>
        <span th:text="${nurseHistory.modifier ?: 'ìˆ˜ì • ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">íˆìŠ¤í† ë¦¬ ID:</label>
        <span th:text="${nurseHistory.id ?: 'ì •ë³´ ì—†ìŒ'}" style="width:220px;"></span>
      </div>

      <!-- ë¹„ê³  -->
      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ë¹„ê³ :</label>
        <span th:text="${nurseHistory.note ?: 'ë¹„ê³  ì—†ìŒ'}" style="width:70%;"></span>
      </div>

      <!-- ì¶”ê°€ íˆìŠ¤í† ë¦¬ ì •ë³´ -->
      <div class="d-flex align-items-start gap-2 mb-3" style="border-top: 1px solid #dee2e6; padding-top: 15px; margin-top: 20px;">
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ë³€ê²½ ìœ í˜•:</label>
        <span style="width:220px;">
                    <span th:if="${nurseHistory.modifier != null}" class="badge bg-warning text-dark">ìˆ˜ì •ë¨</span>
                    <span th:unless="${nurseHistory.modifier != null}" class="badge bg-success text-white">ì‹ ê·œìƒì„±</span>
                </span>
        <label class="label-reform text-end flex-shrink-0" style="width:100px;">ì›ë³¸ ê°„í˜¸ì‚¬:</label>
        <span th:if="${nurseMain}" th:text="|ID: ${nurseMain.id}|" style="width:220px;">ì •ë³´ ì—†ìŒ</span>
        <span th:unless="${nurseMain}" style="width:220px;">ì •ë³´ ì—†ìŒ</span>
      </div>
    </div>

    <!-- íˆìŠ¤í† ë¦¬ê°€ ì—†ëŠ” ê²½ìš° -->
    <div th:unless="${nurseHistory}" class="main card my-3 p-3">
      <div class="text-center py-5">
        <div class="text-muted mb-3" style="font-size: 3rem;">ğŸ“‹</div>
        <h5 class="text-muted mb-2">íˆìŠ¤í† ë¦¬ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h5>
        <p class="text-muted mb-3">ìš”ì²­í•˜ì‹  íˆìŠ¤í† ë¦¬ ë°ì´í„°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
      </div>
    </div>

    <!-- ë²„íŠ¼ ì˜ì—­ -->
    <div class="m-d-btn">
      <div class="m-d-btn_box">
        <a th:href="@{/nurse/history}" class="button-link">íˆìŠ¤í† ë¦¬ ëª©ë¡</a>
        <a th:if="${nurseMain}" th:href="@{|/nurse/info/${nurseMain.id}|}" class="button-link">ê°„í˜¸ì‚¬ ì •ë³´</a>
        <a th:unless="${nurseMain}" th:href="@{/nurse}" class="button-link">ê°„í˜¸ì‚¬ ëª©ë¡</a>
        <a th:if="${nurseHistory and nurseMain}" th:href="@{|/nurse/history/nurse/${nurseMain.id}|}" class="button-link">ì´ ê°„í˜¸ì‚¬ì˜ ëª¨ë“  íˆìŠ¤í† ë¦¬</a>
      </div>
    </div>
  </form>

  <!-- ì¶”ê°€ ì •ë³´ ì„¹ì…˜ -->
  <div class="license card my-3 p-3" th:if="${nurseHistory}">
    <h3 class="border-bottom py-2">íˆìŠ¤í† ë¦¬ ë©”íƒ€ë°ì´í„°</h3>

    <div class="row mt-3">
      <div class="col-md-6">
        <div class="border rounded p-3 bg-light">
          <h6 class="mb-3 text-secondary">ë³€ê²½ ì •ë³´</h6>
          <p><strong class="txt">íˆìŠ¤í† ë¦¬ ID:</strong> <span th:text="${nurseHistory.id}">-</span></p>
          <p><strong class="txt">ìƒì„±ì¼ì‹œ:</strong> <span th:text="${#temporals.format(nurseHistory.createDate, 'yyyy-MM-dd HH:mm:ss')}">-</span></p>
          <p><strong class="txt">ë³€ê²½ ìœ í˜•:</strong>
            <span th:if="${nurseHistory.modifier != null}" class="badge bg-warning text-dark">ì •ë³´ ìˆ˜ì •</span>
            <span th:unless="${nurseHistory.modifier != null}" class="badge bg-success text-white">ì‹ ê·œ ë“±ë¡</span>
          </p>
          <p><strong class="txt">ì‘ì—…ì:</strong>
            <span th:text="${nurseHistory.modifier != null ? nurseHistory.modifier : nurseHistory.writer}">-</span>
          </p>
        </div>
      </div>

      <div class="col-md-6" th:if="${nurseMain}">
        <div class="border rounded p-3 bg-light">
          <h6 class="mb-3 text-secondary">ê´€ë ¨ ì •ë³´</h6>
          <p><strong class="txt">ì›ë³¸ ê°„í˜¸ì‚¬ ID:</strong> <span th:text="${nurseMain.id}">-</span></p>
          <p><strong class="txt">í˜„ì¬ ìƒíƒœ:</strong> <span th:text="${nurseMain.sts}">-</span></p>
          <p><strong class="txt">í˜„ì¬ ë¶€ì„œ:</strong> <span th:text="${nurseMain.dept}">-</span></p>
          <p><strong class="txt">í˜„ì¬ ì§ê¸‰:</strong> <span th:text="${nurseMain.rank}">-</span></p>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
</body>
<style>
  /* íˆìŠ¤í† ë¦¬ ë””í…Œì¼ í˜ì´ì§€ ì „ìš© ìŠ¤íƒ€ì¼ */
  .label-reform {
      font-weight: bold;
      color: #495057;
  }

  .badge {
      font-size: 0.75rem;
      padding: 0.35rem 0.6rem;
  }

  .txt {
      display: inline-block;
      width: 100px;
      font-weight: 600;
      color: #495057;
  }

  /* ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ì€ ê¸°ì¡´ CSS íŒŒì¼ì˜ .image í´ë˜ìŠ¤ ì‚¬ìš© */
  .image {
      margin-bottom: 20px;
  }

  /* ë²„íŠ¼ ê·¸ë£¹ ê°„ê²© ì¡°ì • */
  .m-d-btn_box {
      gap: 10px;
      flex-wrap: wrap;
  }

  .m-d-btn_box .button-link {
      margin-bottom: 5px;
  }

  /* ë°˜ì‘í˜• ë””ìì¸ */
  @media (max-width: 768px) {
      .d-flex.align-items-start.gap-2 {
          flex-direction: column;
          gap: 0.5rem !important;
      }

      .label-reform {
          width: auto !important;
          margin-bottom: 0.25rem;
      }

      .d-flex.align-items-start.gap-2 span {
          width: auto !important;
          padding-left: 1rem;
      }

      .m-d-btn_box {
          flex-direction: column;
      }

      .m-d-btn_box .button-link {
          width: 100%;
          text-align: center;
      }
  }

  /* ì„¹ì…˜ êµ¬ë¶„ì„  ìŠ¤íƒ€ì¼ */
  .border-top {
      border-color: #dee2e6 !important;
  }

  /* ë©”íƒ€ë°ì´í„° ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
  .license .border.rounded {
      background-color: #f8f9fa !important;
      border-color: #e9ecef !important;
  }

  .license .txt {
      color: #6c757d;
      font-size: 0.9rem;
  }

  .license p {
      margin-bottom: 0.75rem;
      font-size: 0.95rem;
  }
</style>
</html>