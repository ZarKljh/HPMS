<html lang="kr" layout:decorate="~{patient/patient_layout}">
<div layout:fragment="content" class="container">
  <h2 class="listbox">신규 환자 등록</h2>
  <form th:object="${patientForm}" method="post">
    <div class="alert alert-danger" role="alert" th:if="${#fields.hasAnyErrors()}">
      <div th:each="err : ${#fields.allErrors()}" th:text="${err}" />
    </div>
    <input type="hidden" name="page" value="0" />
    <input type="hidden" name="size" value="10" />
    <h4 class="border-bottom py-2">환자정보 수정을 위한 공간입니다</h4>
    <div class="patient-info card my-3 p-3">
      <!-- 기본 식별 정보 -->
      <h5 class="mt-3">기본정보</h5>
      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width: 200px;">ID</label>
        <span th:field="*{id}"></span>
      </div>
      <div  class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width: 200px;">종결여부</label>
        <span th:field="*{delStatus}"></span>
      </div>
      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width: 200px;">최초등록일</label>
        <input type="date" class="form-control" th:field="*{createDate}"/>
      </div>
      <div class="d-flex align-items-start gap-2 mb-3">
        <label class="label-reform text-end flex-shrink-0" style="width: 200px;">수정일</label>
        <input type="text" class="form-control" th:field="*{updateDate}"/>
      </div>

      <!-- 인적사항 -->
      <h5 class="mt-3">인적사항</h5>
        <div class="d-flex align-items-start gap-2 mb-3">
          <strong>생년월일</strong>
          <input type="text" class="form-control" th:field="*{birth}"/>
        </div>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">성별</label>
          <select class="form-select" th:field="*{gender}">
            <option value="">선택하세요</option>
            <option value="M">남</option>
            <option value="F">여</option>
            <option value="X">그외</option>
          </select>
        </div>
        <div class="d-flex align-items-start gap-2 mb-3"><label class="label-reform text-end flex-shrink-0" style="width: 200px;">내/외국인</label>
          <input type="text" class="form-control" th:field="*{foreigner}"/>
        </div>
        <div class="d-flex align-items-start gap-2 mb-3"><label class="label-reform text-end flex-shrink-0" style="width: 200px;">성명 성</label>
          <input type="text" class="form-control" th:field="*{lastName}"/>
        </div>
        <div class="d-flex align-items-start gap-2 mb-3"><label class="label-reform text-end flex-shrink-0" style="width: 200px;">성명 이름</label>
          <input type="text" class="form-control" th:field="*{firstName}"/>
        </div>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">중간이름</label>
          <input type="text" class="form-control" th:field="*{middleName}"/>
        </div>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">여권번호</label>
          <input type="text" class="form-control" th:field="*{passport}"/>
        </div>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">여권성명 성</label>
          <input type="text" class="form-control" th:field="*{passLastName}"/>
        </div>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">여권성명 이름</label>
          <input type="text" class="form-control" th:field="*{passFirstName}"/>
        </div>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">여권중간이름</label>
          <input type="text" class="form-control" th:field="*{passMiddleName}"/>
        </div>


        <!-- 연락처 -->
      <h5 class="mt-3">연락처</h5>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">MOBILE</label>
          <input type="text" class="form-control" th:field="*{mobilePhone}">
        </div>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">HOME</label>
          <input type="text" class="form-control" th:field="*{homePhone}">
        </div>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">OFFICE</label>
          <input type="text" class="form-control" th:field="*{officePhone}">
        </div>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">EMAIL</label>
          <input type="text" class="form-control" th:field="*{email}">
        </div>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">FAX</label>
          <input type="text" class="form-control" th:field="*{fax}">
        </div>


        <!-- 보호자 정보 -->
      <h5 class="mt-3">보호자 정보</h5>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">보호자 성명 성</label>
          <input type="text" class="form-control" th:field="*{guardianLastName}"/>
        </div>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">보호자 성명 이름</label>
          <input type="text" class="form-control" th:field="*{guardianFirstName}"/>
        </div>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">보호자 연락처</label>
          <input type="text" class="form-control" th:field="*{guardianTel}"/>
        </div>
        <div class="d-flex align-items-start gap-2 mb-3">
          <label class="label-reform text-end flex-shrink-0" style="width: 200px;">보호자 관계</label>
          <input type="text" class="form-control" th:field="*{guardianRelation}"/>
        </div>


        <!-- 주소 -->
        <h5 class="mt-3">보호자 정보</h5>
          <div class="d-flex align-items-start gap-2 mb-3">
            <label class="label-reform text-end flex-shrink-0" style="width: 200px;">우편번호</label>
            <input type="text" class="form-control" th:field="*{homePcd}"/>
          </div>
          <div class="d-flex align-items-start gap-2 mb-3">
            <label class="label-reform text-end flex-shrink-0" style="width: 200px;">기본주소</label>
            <input type="text" class="form-control" th:field="*{homeDefAdd}"/>
            <button type="button" class="btn btn-primary" onclick="openRoadPopup(document.getElementById('currentAdd'))">도로명 검색</button>
          </div>
          <div class="d-flex align-items-start gap-2 mb-3">
            <label class="label-reform text-end flex-shrink-0" style="width: 200px;">상세주소</label>
            <input type="text" class="form-control" th:field="*{homeDetAdd}"/>
          </div>
          <div class="d-flex align-items-start gap-2 mb-3">
            <label class="label-reform text-end flex-shrink-0" style="width: 200px;">등록주소(우편번호)</label>
            <input type="text" class="form-control" th:field="*{regPcd}"/>
          </div>
          <div class="d-flex align-items-start gap-2 mb-3">
            <label class="label-reform text-end flex-shrink-0" style="width: 200px;">등록주소(기본주소)</label>
            <input type="text" class="form-control" th:field="*{regDefAdd}"/>
            <button type="button" class="btn btn-primary" onclick="openRoadPopup(document.getElementById('regAdd'))">도로명 검색</button>
          </div>
          <div class="d-flex align-items-start gap-2 mb-3">
            <label class="label-reform text-end flex-shrink-0" style="width: 200px;">등록주소(상세주소)</label>
            <input type="text" class="form-control" th:field="*{regDetAdd}"/>
          </div>


        <!-- 기타 -->
        <h5 class="mt-3">보호자 정보</h5>
          <div class="d-flex align-items-start gap-2 mb-3">
            <label class="label-reform text-end flex-shrink-0" style="width: 200px;">직업</label>
            <input type="text" class="form-control" th:field="*{occupation}"/>
          </div>
          <div class="d-flex align-items-start gap-2 mb-3">
            <label class="label-reform text-end flex-shrink-0" style="width: 200px;">국적</label>
            <input type="text" class="form-control" th:field="*{natn}"/>
            <button type="button" class="btn btn-primary"  onclick="openCountryPopup()">국적검색</button>
          </div>
          <div class="d-flex align-items-start gap-2 mb-3">
            <label class="label-reform text-end flex-shrink-0" style="width: 200px;">최종방문일</label>
            <input type="date" class="form-control" th:field="*{lastVisitDate}"/>
          </div>
          <div class="d-flex align-items-start gap-2 mb-3">
            <label class="label-reform text-end flex-shrink-0" style="width: 200px;">특이사항</label>
            <input type="text" class="form-control" th:field="*{note}"/>
          </div>

    </div>
    <div class="form-actions">
      <button class="btn btn-primary" type="submit">등록하기</button>
      <a th:href="@{/patient/list}" class="btn btn-secondary">취소</a>
    </div>
    
  </form>
</div>
</html>
