<!doctype html>
<html lang="ko"
      layout:decorate="~{doctor/doctor_layout}"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<div layout:fragment="content" class="container">

    <!-- =========================================================
         이 페이지 전용 hover 스타일
         - 버튼(수정/삭제/공통 버튼링크) 호버 시 밑줄 제거
       ========================================================= -->


    <form class="doctor_detail"
          th:action="@{|/doctor/dtl/${main.id}|}"
          method="post">

        <h3 class="border-bottom mt-2"
            th:text="|${main.lastName} ${main.middleName != null ? main.middleName + ' ' : ''}${main.firstName}|">
            홍 길동
        </h3>

        <div class="main card my-3 p-3">
            <h4 class="border-bottom py-2">의사 상세페이지 입니다.</h4>

            <!-- 사진 -->
            <div class="image mb-3">
                <img th:if="${detail != null and detail.image != null}"
                     th:src="@{/img/hpms/Doctor/Doctor_profile/{file}(file=${detail.image})}"
                     alt="프로필 사진">
                <div class="kv-2" th:if="${detail == null or detail.image == null}">
                    <span class="value">등록된 프로필 사진이 없습니다.</span>
                </div>
            </div>
            <h4 class="border-bottom py-2">인적사항</h4>
            <div class="input-list">
                <label>성명:</label>
                <span th:text="|${main.lastName} ${main.middleName != null ? main.middleName + ' ' : ''}${main.firstName}|"></span>
            </div>
            <div class="input-list">
                <label>성별:</label>
                <span th:text="${main.gender ?: '정보 없음'}"></span>
            </div>
            <div class="input-list">
                <label>생년월일:</label>
                <span th:text="${main.dateOfBirth != null ? #temporals.format(main.dateOfBirth,'yyyy-MM-dd') : '정보 없음'}"></span>
            </div>


            <h4 class="border-bottom py-2">조직정보</h4>
            <div class="input-list">
                <label>부서:</label>
                <span th:text="${main.department ?: '정보 없음'}"></span>
            </div>
            <div class="input-list">
                <label>진료과:</label>
                <span th:text="${main.medicalDepartment ?: '정보 없음'}"></span>
            </div>
            <div class="input-list">
                <label>직급:</label>
                <span th:text="${main.rank ?: '정보 없음'}"></span>
            </div>
            <div class="input-list">
                <label>직책:</label>
                <span th:text="${main.position ?: '정보 없음'}"></span>
            </div>
            <div class="input-list">
                <label>사무실 전화:</label>
                <span th:text="${detail != null ? (detail.officeTelephone ?: '정보 없음') : '정보 없음'}"></span>
            </div>

            <h4 class="border-bottom py-2">고용상태</h4>
            <div class="input-list">
                <label>입사일:</label>
                <span th:text="${main.hireDate != null ? #temporals.format(main.hireDate,'yyyy-MM-dd') : '정보 없음'}"></span>
            </div>
            <div class="input-list">
                <label>상태:</label>
                <span th:text="${main.status ?: '정보 없음'}"></span>
            </div>
            <div class="input-list">
                <label>근무형태:</label>
                <span th:text="${main.workType ?: '정보 없음'}"></span>
            </div>

            <h4 class="border-bottom py-2">상세정보</h4>
            <div class="input-list">
                <label>전화:</label>
                <span th:text="${main.telephone ?: '정보 없음'}"></span>
            </div>
            <div class="input-list">
                <label>이메일:</label>
                <span th:text="${detail != null ? (detail.email ?: '정보 없음') : '정보 없음'}"></span>
            </div>
            <div class="input-list">
                <label>우편번호:</label>
                <span th:text="${detail != null ? (detail.postcode ?: '정보 없음') : '정보 없음'}"></span>
            </div>
            <div class="input-list">
                <label>주소:</label>
                <span th:text="${detail != null ? (detail.defaultAddress ?: '정보 없음') : '정보 없음'}"></span>
            </div>
            <div class="input-list">
                <label>상세주소:</label>
                <span th:text="${detail != null ? (detail.detailedAddress ?: '정보 없음') : '정보 없음'}"></span>
            </div>

            <h4 class="border-bottom py-2">자격정보</h4>
            <div class="input-list">
                <label>면허번호:</label>
                <span th:text="${detail != null ? (detail.registrationNumber ?: '정보 없음') : '정보 없음'}"></span>
                </div>
                <div class="input-list">
                    <label>학력:</label>
                    <span th:text="${detail != null ? (detail.educationalBackground ?: '정보 없음') : '정보 없음'}"></span>
                </div>
                <div class="input-list">
                    <label>전공과:</label>
                    <span th:text="${detail != null ? (detail.major ?: '정보 없음') : '정보 없음'}"></span>
                </div>
                <div class="input-list">
                    <label>외국어:</label>
                    <span th:text="${detail != null ? (detail.foreignLanguage ?: '정보 없음') : '정보 없음'}"></span>
                </div>
                <div class="input-list">
                    <label>기타 자격증:</label>
                    <span th:text="${detail != null ? (detail.license ?: '정보 없음') : '정보 없음'}"></span>
                </div>

                <h4 class="border-bottom py-2">경력</h4>
                <div class="input-list">
                <label>근무경력:</label>
                <span th:text="${detail != null ? (detail.workDependsOnExperience ?: '정보 없음') : '정보 없음'}"></span>
            </div>
                <div class="input-list">
                <label>수상경력:</label>
                <span th:text="${detail != null ? (detail.awards ?: '정보 없음') : '정보 없음'}"></span>
                    </div>
                    <div class="input-list">
                <label>학회활동:</label>
                <span th:text="${detail != null ? (detail.societyActivity ?: '정보 없음') : '정보 없음'}"></span>
            </div>
                <div class="input-list">
                <label>학회인증:</label>
                <span th:text="${detail != null ? (detail.certificateOfSociety ?: '정보 없음') : '정보 없음'}"></span>
                    </div>

                <h4 class="border-bottom py-2">기타 인적사항</h4>
                <div class="input-list">
                <label>병역:</label>
                <span th:text="${detail != null ? (detail.militaryService ?: '정보 없음') : '정보 없음'}"></span>
            </div>
                <div class="input-list">
                <label>국적:</label>
                <span th:text="${detail != null ? (detail.nationality ?: '정보 없음') : '정보 없음'}"></span>
                    </div>
                <div class="input-list">
                <label>장애여부:</label>
                <span th:text="${detail != null ? (detail.disabilityStatus ?: '정보 없음') : '정보 없음'}"></span>
            </div>

                <h4 class="border-bottom py-2">비상연락</h4>
                <div class="input-list" th:if="${detail != null}">
                <label>비상연락처:</label>
                <span th:text="${detail.emergencyContact ?: '정보 없음'}"></span>
                    </div>
                    <div class="input-list">
                <label>관계:</label>
                <span th:text="${detail.emergencyRelation ?: '정보 없음'}"></span>
            </div>
                <div class="input-list" th:if="${detail != null}">
                <label>성명(비상):</label>
                <span th:text="|${detail.emergencyLastName ?: ''} ${detail.emergencyMiddleName ?: ''} ${detail.emergencyFirstName ?: ''}|"></span>
            </div>
                    <div class="input-list">
                    <label>비고(비상):</label>
                <span th:text="${detail.emergencyNote ?: '정보 없음'}"></span>
            </div>

                    <h4 class="border-bottom py-2">생성,수정,비고</h4>
                    <div class="input-list">
                <label>생성일시:</label>
                <span th:text="${detail != null && detail.createDate != null ? detail.createDate : '정보 없음'}"></span>
                    </div>
            <div class="input-list">
            <label>작성자:</label>
                <span th:text="${detail != null ? (detail.writer ?: '정보 없음') : '정보 없음'}"></span>
            </div>
                <div class="input-list">
                <label>수정일시:</label>
                <span th:text="${detail != null && detail.modifyDate != null ? detail.modifyDate : '정보 없음'}"></span>
                </div>
                <div class="input-list">
                <label>수정자:</label>
                <span th:text="${detail != null ? (detail.modifier ?: '정보 없음') : '정보 없음'}"></span>
            </div>
                <div class="input-list">
                <label>비고:</label>
                <span th:text="${detail != null ? (detail.note ?: '정보 없음') : '정보 없음'}"></span>
            </div>
            <div th:if="${detail == null}" class="mt-2 text-muted">디테일 정보가 없습니다.</div>
        </div>

        <!-- 버튼 -->
        <div class="m-d-btn">
            <div class="m-d-btn_box">
                <a th:href="@{/doctor/edit/{id}(id=${main.id})}" class="m-btn">수정</a>
                <a href="javascript:void(0);"
                   th:data-uri="@{/doctor/delete/{id}(id=${main.id})}"
                   class="d-btn"
                   onclick="if(confirm('삭제하시겠습니까?')) window.location.href=this.getAttribute('data-uri')">삭제</a>
            </div>
        </div>
    </form>
</div>
</html>
