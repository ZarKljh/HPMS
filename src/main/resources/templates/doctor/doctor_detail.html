<!doctype html>
<html lang="ko"
      layout:decorate="~{doctor/doctor_layout}"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<div layout:fragment="content" class="container">

    <!-- =========================================================
         이 페이지 전용 hover 스타일
         - 버튼(수정/삭제/공통 버튼링크) 호버 시 밑줄 제거
       ========================================================= -->


    <form class="doctor_detail"
          th:action="@{|/doctor/dtl/${main.id}|}"
          method="post">

        <h3 class="border-bottom mt-2"
            th:text="|${main.lastName} ${main.middleName != null ? main.middleName + ' ' : ''}${main.firstName}|">
            홍 길동
        </h3>

        <div class="main card my-3 p-3">
            <h4 class="border-bottom py-2">의사 상세페이지 입니다.</h4>

            <!-- 사진 -->
            <div class="image mb-3">
                <img th:if="${detail != null and detail.image != null}"
                     th:src="@{/img/hpms/Doctor/Doctor_profile/{file}(file=${detail.image})}"
                     alt="프로필 사진">
                <div class="kv-2" th:if="${detail == null or detail.image == null}">
                    <span class="value">등록된 프로필 사진이 없습니다.</span>
                </div>
            </div>

            <!-- 기본 정보 1 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">부서:</label>
                <span class="col-4" th:text="${main.department ?: '정보 없음'}">DEPT</span>

                <label class="col-2 text-end">진료과:</label>
                <span class="col-4" th:text="${main.medicalDepartment ?: '정보 없음'}">MED</span>
            </div>

            <!-- 기본 정보 2 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">직급:</label>
                <span class="col-4" th:text="${main.rank ?: '정보 없음'}">RNK</span>

                <label class="col-2 text-end">직책:</label>
                <span class="col-4" th:text="${main.position ?: '정보 없음'}">POS</span>
            </div>

            <!-- 기본 정보 3 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">성명:</label>
                <span class="col-4"
                      th:text="|${main.lastName} ${main.middleName != null ? main.middleName + ' ' : ''}${main.firstName}|">홍 길동</span>

                <label class="col-2 text-end">성별:</label>
                <span class="col-4" th:text="${main.gender ?: '정보 없음'}">M</span>
            </div>

            <!-- 기본 정보 4 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">생년월일:</label>
                <span class="col-4"
                      th:text="${main.dateOfBirth != null ? #temporals.format(main.dateOfBirth,'yyyy-MM-dd') : '정보 없음'}">1990-01-01</span>

                <label class="col-2 text-end">전화:</label>
                <span class="col-4" th:text="${main.telephone ?: '정보 없음'}">010-0000-0000</span>
            </div>

            <!-- 고용/상태 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">입사일:</label>
                <span class="col-4"
                      th:text="${main.hireDate != null ? #temporals.format(main.hireDate,'yyyy-MM-dd') : '정보 없음'}">2020-01-01</span>

                <label class="col-2 text-end">상태:</label>
                <span class="col-4" th:text="${main.status ?: '정보 없음'}">ACT</span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">근무형태:</label>
                <span class="col-4" th:text="${main.workType ?: '정보 없음'}">FULL</span>

                <label class="col-2 text-end">사무실 전화:</label>
                <span class="col-4" th:text="${detail != null ? (detail.officeTelephone ?: '정보 없음') : '정보 없음'}"></span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">이메일:</label>
                <span class="col-4" th:text="${detail != null ? (detail.email ?: '정보 없음') : '정보 없음'}"></span>

                <label class="col-2 text-end">우편번호:</label>
                <span class="col-4" th:text="${detail != null ? (detail.postcode ?: '정보 없음') : '정보 없음'}"></span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">주소:</label>
                <span class="col-4" th:text="${detail != null ? (detail.defaultAddress ?: '정보 없음') : '정보 없음'}"></span>

                <label class="col-2 text-end">상세주소:</label>
                <span class="col-4" th:text="${detail != null ? (detail.detailedAddress ?: '정보 없음') : '정보 없음'}"></span>
            </div>

            <!-- 전문/자격 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">면허번호:</label>
                <span class="col-4" th:text="${detail != null ? (detail.registrationNumber ?: '정보 없음') : '정보 없음'}"></span>

                <label class="col-2 text-end">학력:</label>
                <span class="col-4" th:text="${detail != null ? (detail.educationalBackground ?: '정보 없음') : '정보 없음'}"></span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">전공과:</label>
                <span class="col-4" th:text="${detail != null ? (detail.major ?: '정보 없음') : '정보 없음'}"></span>

                <label class="col-2 text-end">외국어:</label>
                <span class="col-4" th:text="${detail != null ? (detail.foreignLanguage ?: '정보 없음') : '정보 없음'}"></span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">기타 자격증:</label>
                <span class="col-4" th:text="${detail != null ? (detail.license ?: '정보 없음') : '정보 없음'}"></span>

                <label class="col-2 text-end">근무경력:</label>
                <span class="col-4" th:text="${detail != null ? (detail.workDependsOnExperience ?: '정보 없음') : '정보 없음'}"></span>
            </div>

            <!-- 수상/학회 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">수상경력:</label>
                <span class="col-4" th:text="${detail != null ? (detail.awards ?: '정보 없음') : '정보 없음'}"></span>

                <label class="col-2 text-end">학회활동:</label>
                <span class="col-4" th:text="${detail != null ? (detail.societyActivity ?: '정보 없음') : '정보 없음'}"></span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">학회인증:</label>
                <span class="col-4" th:text="${detail != null ? (detail.certificateOfSociety ?: '정보 없음') : '정보 없음'}"></span>

                <label class="col-2 text-end">병역:</label>
                <span class="col-4" th:text="${detail != null ? (detail.militaryService ?: '정보 없음') : '정보 없음'}"></span>
            </div>

            <!-- 기타 인적 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">국적:</label>
                <span class="col-4" th:text="${detail != null ? (detail.nationality ?: '정보 없음') : '정보 없음'}"></span>

                <label class="col-2 text-end">장애여부:</label>
                <span class="col-4" th:text="${detail != null ? (detail.disabilityStatus ?: '정보 없음') : '정보 없음'}"></span>
            </div>

            <!-- 비상연락 -->
            <div class="row align-items-start mb-2" th:if="${detail != null}">
                <label class="col-2 text-end">비상연락처:</label>
                <span class="col-4" th:text="${detail.emergencyContact ?: '정보 없음'}"></span>

                <label class="col-2 text-end">관계:</label>
                <span class="col-4" th:text="${detail.emergencyRelation ?: '정보 없음'}"></span>
            </div>

            <div class="row align-items-start mb-2" th:if="${detail != null}">
                <label class="col-2 text-end">성명(비상):</label>
                <span class="col-4"
                      th:text="|${detail.emergencyLastName ?: ''} ${detail.emergencyMiddleName ?: ''} ${detail.emergencyFirstName ?: ''}|">
                </span>

                <label class="col-2 text-end">비고(비상):</label>
                <span class="col-4" th:text="${detail.emergencyNote ?: '정보 없음'}"></span>
            </div>

            <!-- 생성/수정/비고 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">최초 생성일시:</label>
                <span class="col-4" th:text="${detail != null && detail.createDate != null ? detail.createDate : '정보 없음'}"></span>

                <label class="col-2 text-end">최초 작성자:</label>
                <span class="col-4" th:text="${detail != null ? (detail.writer ?: '정보 없음') : '정보 없음'}"></span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">최종 수정일시:</label>
                <span class="col-4" th:text="${detail != null && detail.modifyDate != null ? detail.modifyDate : '정보 없음'}"></span>

                <label class="col-2 text-end">최종 수정자:</label>
                <span class="col-4" th:text="${detail != null ? (detail.modifier ?: '정보 없음') : '정보 없음'}"></span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">비고:</label>
                <span class="col-10" th:text="${detail != null ? (detail.note ?: '정보 없음') : '정보 없음'}"></span>
            </div>

            <div th:if="${detail == null}" class="mt-2 text-muted">디테일 정보가 없습니다.</div>
        </div>

        <!-- 버튼 -->
        <div class="m-d-btn">
            <div class="m-d-btn_box">
                <a th:href="@{/doctor/edit/{id}(id=${main.id})}" class="m-btn">수정</a>
                <a href="javascript:void(0);"
                   th:data-uri="@{/doctor/delete/{id}(id=${main.id})}"
                   class="d-btn"
                   onclick="if(confirm('삭제하시겠습니까?')) window.location.href=this.getAttribute('data-uri')">삭제</a>
            </div>
        </div>
    </form>
</div>
</html>
