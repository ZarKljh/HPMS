<!doctype html>
<html lang="ko"
      layout:decorate="~{doctor/doctor_layout}"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<th:block layout:fragment="script">
    <!-- 필요시 페이지 전용 JS -->
</th:block>

<th:block layout:fragment="content">
    <div class="container detail-container page-narrow">

        <!-- ✅ 호버 스타일: 버튼형 링크 밑줄 제거 -->

        <!-- 상단 타이틀 + 이름 -->
        <h3 class="border-bottom mt-2"
            th:text="|${h.lastName} ${h.middleName != null ? h.middleName + ' ' : ''}${h.firstName}|">
            홍 길동
        </h3>

        <!-- 메인 카드 -->
        <div class="main card my-3 p-3">
            <h4 class="border-bottom py-2">의사 히스토리 상세페이지 입니다.</h4>

            <!-- 사진 -->
            <div class="image mb-3">
                <img th:if="${h.image != null}"
                     th:src="@{/img/hpms/Doctor/Doctor_profile/{file}(file=${h.image})}"
                     alt="프로필 사진">
                <div class="kv-2" th:if="${h.image == null}">
                    <span class="value">등록된 프로필 사진이 없습니다.</span>
                </div>
            </div>

            <!-- 기본 정보 1 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">부서:</label>
                <span class="col-4" th:text="${h.department ?: '정보 없음'}">DEPT</span>

                <label class="col-2 text-end">진료과:</label>
                <span class="col-4" th:text="${h.medicalDepartment ?: '정보 없음'}">MED</span>
            </div>

            <!-- 기본 정보 2 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">직급:</label>
                <span class="col-4" th:text="${h.rank ?: '정보 없음'}">RANK</span>

                <label class="col-2 text-end">상태:</label>
                <span class="col-4" th:text="${h.status ?: '정보 없음'}">ACT</span>
            </div>

            <!-- 기본 정보 3 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">성명:</label>
                <span class="col-4"
                      th:text="|${h.lastName} ${h.middleName != null ? h.middleName + ' ' : ''}${h.firstName}|">홍 길동</span>

                <label class="col-2 text-end">성별:</label>
                <span class="col-4" th:text="${h.gender ?: '정보 없음'}">M</span>
            </div>

            <!-- 기본 정보 4 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">생년월일:</label>
                <span class="col-4"
                      th:text="${h.dateOfBirth != null ? #temporals.format(h.dateOfBirth,'yyyy-MM-dd') : '정보 없음'}">1990-01-01</span>

                <label class="col-2 text-end">전화:</label>
                <span class="col-4" th:text="${h.telephone ?: '정보 없음'}">010-0000-0000</span>
            </div>

            <!-- 고용/상태 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">입사일:</label>
                <span class="col-4"
                      th:text="${h.hireDate != null ? #temporals.format(h.hireDate,'yyyy-MM-dd') : '정보 없음'}">2020-01-01</span>

                <label class="col-2 text-end">근무형태:</label>
                <span class="col-4" th:text="${h.workType ?: '정보 없음'}">FULL</span>
            </div>

            <!-- 비상 연락 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">비상연락처:</label>
                <span class="col-4" th:text="${h.emergencyContact ?: '정보 없음'}"></span>

                <label class="col-2 text-end">관계:</label>
                <span class="col-4" th:text="${h.emergencyRelation ?: '정보 없음'}"></span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">성명(비상):</label>
                <span class="col-10"
                      th:text="|${h.emergencyLastName ?: ''} ${h.emergencyMiddleName != null ? h.emergencyMiddleName + ' ' : ''}${h.emergencyFirstName ?: ''}|">
                </span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">비고(비상):</label>
                <span class="col-10" th:text="${h.emergencyNote ?: '정보 없음'}"></span>
            </div>

            <!-- 전문/자격 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">면허번호:</label>
                <span class="col-4" th:text="${h.registrationNumber ?: '정보 없음'}"></span>

                <label class="col-2 text-end">학력:</label>
                <span class="col-4" th:text="${h.educationalBackground ?: '정보 없음'}"></span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">전공과:</label>
                <span class="col-4" th:text="${h.major ?: '정보 없음'}"></span>

                <label class="col-2 text-end">외국어:</label>
                <span class="col-4" th:text="${h.foreignLanguage ?: '정보 없음'}"></span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">기타 자격증:</label>
                <span class="col-4" th:text="${h.license ?: '정보 없음'}"></span>

                <label class="col-2 text-end">근무경력:</label>
                <span class="col-4" th:text="${h.workDependsOnExperience ?: '정보 없음'}"></span>
            </div>

            <!-- 수상/학회 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">수상경력:</label>
                <span class="col-4" th:text="${h.awards ?: '정보 없음'}"></span>

                <label class="col-2 text-end">학회활동:</label>
                <span class="col-4" th:text="${h.societyActivity ?: '정보 없음'}"></span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">학회인증:</label>
                <span class="col-4" th:text="${h.certificateOfSociety ?: '정보 없음'}"></span>

                <label class="col-2 text-end">병역:</label>
                <span class="col-4" th:text="${h.militaryService ?: '정보 없음'}"></span>
            </div>

            <!-- 기타 인적 -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">국적:</label>
                <span class="col-4" th:text="${h.nationality ?: '정보 없음'}"></span>

                <label class="col-2 text-end">장애여부:</label>
                <span class="col-4" th:text="${h.disabilityStatus ?: '정보 없음'}"></span>
            </div>

            <!-- 메타(히스토리) -->
            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">히스토리 ID:</label>
                <span class="col-4" th:text="${h.id}">1</span>

                <label class="col-2 text-end">히스토리 생성일:</label>
                <span class="col-4"
                      th:text="${h.createDate != null ? #temporals.format(h.createDate,'yyyy-MM-dd HH:mm:ss') : '정보 없음'}"></span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">작성자:</label>
                <span class="col-4" th:text="${h.writer ?: '정보 없음'}"></span>

                <label class="col-2 text-end">수정일시:</label>
                <span class="col-4"
                      th:text="${h.modifyDate != null ? #temporals.format(h.modifyDate,'yyyy-MM-dd HH:mm:ss') : '정보 없음'}"></span>
            </div>

            <div class="row align-items-start mb-2">
                <label class="col-2 text-end">수정자:</label>
                <span class="col-4" th:text="${h.modifier ?: '정보 없음'}"></span>

                <label class="col-2 text-end">비고:</label>
                <span class="col-4" th:text="${h.note ?: '정보 없음'}"></span>
            </div>
        </div>

        <!-- 버튼 영역 -->
        <div class="m-d-btn">
            <div class="m-d-btn_box">
                <a th:href="@{/doctor/history}" class="m-btn">목록으로</a>
            </div>
        </div>

    </div>
</th:block>
</html>
