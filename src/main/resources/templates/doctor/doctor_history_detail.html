<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8"/>
    <title>의사 히스토리 상세</title>
    <style>
        body { font-family: system-ui, sans-serif; padding:16px; }
        .card { border:1px solid #ddd; border-radius:10px; padding:14px; margin-bottom:16px; }
        .grid { display:grid; grid-template-columns: 160px 1fr; gap:8px 16px; }
        .label { color:#666; }
        .toolbar { display:flex; gap:8px; }
        .btn { padding:6px 10px; border:1px solid #aaa; border-radius:6px; text-decoration:none; color:#333; }
    </style>
</head>
<body>

<h2>의사 히스토리 상세</h2>

<!-- 메인(요구하신 범위) -->
<div class="card">
    <h3>메인 정보</h3>
    <div class="grid">
        <div class="label">히스토리 ID</div><div th:text="${h.id}">1</div>
        <div class="label">부서</div><div th:text="${h.department}">DEPT</div>
        <div class="label">진료과</div><div th:text="${h.medicalDepartment}">MED</div>
        <div class="label">직책</div><div th:text="${h.rank}">RANK</div>

        <div class="label">이름</div>
        <div th:text="|${h.lastName} ${#strings.defaultString(h.middleName,'')} ${h.firstName}|">홍 길동</div>

        <div class="label">성별</div><div th:text="${h.gender}">M</div>
        <div class="label">생년월일</div>
        <div th:text="${h.dateOfBirth != null ? #temporals.format(h.dateOfBirth, 'yyyy-MM-dd') : ''}">1990-01-01</div>

        <div class="label">전화</div><div th:text="${h.telephone}">010-0000-0000</div>
        <div class="label">입사일</div>
        <div th:text="${h.hireDate != null ? #temporals.format(h.hireDate, 'yyyy-MM-dd') : ''}">2020-01-01</div>

        <div class="label">상태</div><div th:text="${h.status}">ACT</div>
        <div class="label">근무형태</div><div th:text="${h.workType}">FULL</div>
    </div>
</div>

<!-- 디테일(요구하신 범위) -->
<div class="card">
    <h3>디테일 정보</h3>
    <div class="grid">
        <div class="label">사진</div><div th:text="${h.image}">/img/path.jpg</div>
        <div class="label">유저ID</div><div th:text="${h.userId}">user01</div>
        <div class="label">비상연락처</div><div th:text="${h.emergencyContact}"></div>
        <div class="label">비상연락처 이름</div>
        <div th:text="|${#strings.defaultString(h.emergencyLastName,'')} ${#strings.defaultString(h.emergencyMiddleName,'')} ${#strings.defaultString(h.emergencyFirstName,'')}|"></div>
        <div class="label">관계</div><div th:text="${h.emergencyRelation}"></div>
        <div class="label">비상 비고</div><div th:text="${h.emergencyNote}"></div>

        <div class="label">면허번호</div><div th:text="${h.registrationNumber}"></div>
        <div class="label">학력</div><div th:text="${h.educationalBackground}"></div>
        <div class="label">외국어</div><div th:text="${h.foreignLanguage}"></div>
        <div class="label">기타 자격증</div><div th:text="${h.license}"></div>
        <div class="label">전공과</div><div th:text="${h.major}"></div>
        <div class="label">경력</div><div th:text="${h.workDependsOnExperience}"></div>
        <div class="label">수상</div><div th:text="${h.awards}"></div>
        <div class="label">학회활동</div><div th:text="${h.societyActivity}"></div>
        <div class="label">학회인증</div><div th:text="${h.certificateOfSociety}"></div>
        <div class="label">병역</div><div th:text="${h.militaryService}"></div>
        <div class="label">국적</div><div th:text="${h.nationality}"></div>
        <div class="label">장애여부</div><div th:text="${h.disabilityStatus}"></div>

        <div class="label">생성일시</div>
        <div th:text="${h.createDate != null ? #temporals.format(h.createDate, 'yyyy-MM-dd HH:mm:ss') : ''}"></div>
        <div class="label">작성자</div><div th:text="${h.writer}"></div>
        <div class="label">수정자</div><div th:text="${h.modifier}"></div>
        <div class="label">수정일시</div>
        <div th:text="${h.modifyDate != null ? #temporals.format(h.modifyDate, 'yyyy-MM-dd HH:mm:ss') : ''}"></div>
        <div class="label">비고</div><div th:text="${h.note}"></div>
    </div>
</div>

<div class="toolbar">
    <a class="btn" th:href="@{/doctor/history}">목록으로</a>
    <a class="btn" th:if="${h != null && h.doctorMain != null}"
       th:href="@{/doctor/dtl/detail(id=${h.doctorMain.id})}">의사 상세</a>
    <a class="btn" th:if="${h != null && h.doctorMain != null}"
       th:href="@{/doctor/edit/{id}(id=${h.doctorMain.id})}">의사 수정</a>
</div>

</body>
</html>
